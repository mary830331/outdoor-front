(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"0fa9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("admin"),s("div",{staticClass:"top-mt left-layout-lg "},[s("div",{staticClass:"justify-center row margin-15"},[s("q-dialog",{model:{value:t.Forum,callback:function(e){t.Forum=e},expression:"Forum"}},[s("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[s("q-form",{staticClass:"q-ma-xl row",on:{submit:t.onSubmit,reset:t.onReset}},[s("q-input",{staticClass:"col-12",attrs:{filled:"",dense:"",label:"æ¨™é¡Œ","lazy-rules":"",rules:[function(t){return t&&t.length>0||"è«‹å‹¿ç©ºç™½"}]},model:{value:t.forum.title,callback:function(e){t.$set(t.forum,"title",e)},expression:"forum.title"}}),s("div",{staticClass:" col-6"},[t._v("ä¸Šæ¶æ–‡ç« \n            "),s("div",{staticClass:"q-ml-md q-my-md"},[s("q-radio",{attrs:{dense:"",val:"true",value:!0,label:"ä¸Šæ¶"},model:{value:t.forum.sell,callback:function(e){t.$set(t.forum,"sell",e)},expression:"forum.sell"}}),s("q-radio",{attrs:{dense:"",val:"false",value:!1,label:"ä¸‹æ¶"},model:{value:t.forum.sell,callback:function(e){t.$set(t.forum,"sell",e)},expression:"forum.sell"}})],1)]),s("div",{staticClass:"col-6"},[t._v("\n              æª”æ¡ˆä¸Šå‚³\n              "),s("img-inputer",{attrs:{accept:"image/*",theme:"light",size:"normal","bottom-text":"é»é¸æˆ–æ‹–æ‹½åœ–ç‰‡ä»¥ä¿®æ”¹","hover-text":"é»é¸æˆ–æ‹–æ‹½åœ–ç‰‡ä»¥ä¿®æ”¹",placeholder:"é»é¸æˆ–æ‹–æ‹½é¸æ“‡åœ–ç‰‡","max-size":1024,"exceed-size-text":"æª”æ¡ˆå¤§å°ä¸èƒ½è¶…é"},model:{value:t.forum.image,callback:function(e){t.$set(t.forum,"image",e)},expression:"forum.image"}})],1),s("q-input",{staticClass:"col-12",attrs:{filled:"",label:"å…§å®¹",type:"textarea","lazy-rules":""},model:{value:t.forum.content,callback:function(e){t.$set(t.forum,"content",e)},expression:"forum.content"}}),s("div",{staticClass:"q-mt-md"},[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1),s("q-dialog",{attrs:{label:"æªåœ˜æ–‡ç« "},model:{value:t.Group,callback:function(e){t.Group=e},expression:"Group"}},[s("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[s("q-form",{staticClass:"q-ma-xl row",on:{submit:t.onSubmit,reset:t.onReset}},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"col-6",attrs:{filled:"",dense:"",label:"ğŸ“åœ°é»æ¨™é¡Œ","lazy-rules":"",rules:[function(t){return t&&t.length>0||"è«‹å‹¿ç©ºç™½"}]},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}}),s("q-input",{attrs:{filled:"",dense:"",label:"ğŸ•–æ™‚é–“",rules:[function(t){return t&&t.length>0||"è«‹å‹¿ç©ºç™½"}]},model:{value:t.group.time,callback:function(e){t.$set(t.group,"time",e)},expression:"group.time"}}),s("q-select",{attrs:{filled:"",dense:"",label:"æ´»å‹•åˆ†é¡",options:t.categories,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"è«‹å‹¿ç©ºç™½"}]},model:{value:t.group.category,callback:function(e){t.$set(t.group,"category",e)},expression:"group.category"}}),s("div",{staticClass:"q-my-sm q-mb-xs"},[t._v("ä¸Šæ¶æ´»å‹•\n            "),s("div",{staticClass:"q-gutter-xl"},[s("q-radio",{attrs:{dense:"",val:"true",value:!0,label:" ä¸Šæ¶ ğŸ”º"},model:{value:t.group.sell,callback:function(e){t.$set(t.group,"sell",e)},expression:"group.sell"}}),s("q-radio",{attrs:{dense:"",val:"false",value:!1,label:" ä¸‹æ¶ ğŸ”»"},model:{value:t.group.sell,callback:function(e){t.$set(t.group,"sell",e)},expression:"group.sell"}})],1)])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"q-ml-md ",attrs:{filled:"",dense:"",label:"ğŸ’°é ä¼°é ç®—é‡‘é¡","lazy-rules":"",rules:[function(t){return t&&t.length>0||"è«‹å‹¿ç©ºç™½"}]},model:{value:t.group.price,callback:function(e){t.$set(t.group,"price",e)},expression:"group.price"}}),s("p",{staticClass:"q-ml-md"},[t._v("æª”æ¡ˆä¸Šå‚³")]),s("img-inputer",{staticClass:"q-ml-md",staticStyle:{width:"95%"},attrs:{accept:"image/*",theme:"light",size:"normal ","bottom-text":"é»é¸æˆ–æ‹–æ‹½åœ–ç‰‡ä»¥ä¿®æ”¹","hover-text":"é»é¸æˆ–æ‹–æ‹½åœ–ç‰‡ä»¥ä¿®æ”¹",placeholder:"é»é¸æˆ–æ‹–æ‹½é¸æ“‡åœ–ç‰‡","max-size":1024,"exceed-size-text":"æª”æ¡ˆå¤§å°ä¸èƒ½è¶…é"},model:{value:t.group.image,callback:function(e){t.$set(t.group,"image",e)},expression:"group.image"}})],1),s("q-input",{staticClass:"q-mt-sm col-12",attrs:{filled:"",dense:"",label:"æ´»å‹•è¡Œç¨‹",type:"textarea","lazy-rules":""},model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}}),s("div",{staticClass:"col-12 q-mt-xs"},[t._v("\n              æ³¨æ„äº‹é …\n            "),s("q-input",{attrs:{filled:"",dense:"",type:"textarea","lazy-rules":""},model:{value:t.group.precautions,callback:function(e){t.$set(t.group,"precautions",e)},expression:"group.precautions"}})],1),s("div",{staticClass:"q-mt-md"},[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1),s("q-card",{staticClass:"col-12"},[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"negative","indicator-color":"negative",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"Forum-btn",label:"è¨è«–å€æ–‡ç« "}}),s("q-tab",{attrs:{name:"Group-btn",label:"æªåœ˜æ–‡ç« "}})],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"Forum-btn"}},[s("q-btn",{staticStyle:{width:"30%"},attrs:{color:"negative",label:"æ–°å¢"},on:{click:function(e){t.Forum=!0}}}),s("q-table",{ref:"table",attrs:{data:t.products,columns:t.columns,title:t.group._id.length>0?"ç·¨è¼¯è¨è«–å€æ–‡ç« ":"æ–°å¢è¨è«–å€æ–‡ç« "}})],1),s("q-tab-panel",{attrs:{name:"Group-btn"}},[s("q-btn",{staticStyle:{width:"30%"},attrs:{color:"negative",label:"æ–°å¢"},on:{click:function(e){t.Group=!0}}}),s("q-table",{ref:"table",attrs:{data:t.products,columns:t.columns,grid:"",title:t.group._id.length>0?"ç·¨è¼¯æªåœ˜æ–‡ç« ":"æ–°å¢æªåœ˜æ–‡ç« "},scopedSlots:t._u([{key:"item",fn:function(e){return[s("div",{staticClass:" col-sm-6 col-md-4 col-lg-3 col-xs-12"},[s("q-card",{staticClass:" text-grey-8 q-ma-sm"},[s("img",{staticClass:"text-center",staticStyle:{width:"100%",height:"150px"},attrs:{src:e.row.image}}),s("div",{staticClass:"q-pa-sm"},[s("q-card-section",{staticClass:"text-center q-pa-none"},[s("strong",{staticClass:"text-weight-bold text-h6"},[t._v(t._s(e.row.name))])]),s("q-card-section",{staticClass:"text-center q-pa-none"},[s("strong",{staticClass:"text-weight-light text-body2"},[t._v("é ä¼°é‡‘é¡:"),s("br"),t._v(t._s(e.row.price))])]),s("q-card-section",{staticClass:"text-center q-pa-none"},[s("strong",{staticClass:"col-6 text-weight-light text-body2"},[t._v("åˆ†é¡:"+t._s(e.row.category))])]),s("q-card-section",{staticClass:"text-center row q-pa-xs"},[s("strong",{staticClass:"col-6 text-weight-light"},[t._v("ä¸Šæ¶: "+t._s(e.row.sell?"â­•":"âŒ"))]),s("q-btn",{attrs:{rounded:"",size:"xs",color:"secondary",label:"ç·¨è¼¯"},on:{click:function(s){return t.editProduct(e.pageIndex)}}})],1)],1)])],1)]}}])})],1)],1)],1)],1)])],1)},l=[],r=(s("e01a"),s("f529")),o={name:"AdminArrticle",data(){return{columns:[{name:"image",label:"åœ–ç‰‡",field:"image"},{name:"name",label:"æ´»å‹•åç¨±",field:"name"},{name:"price",label:"é ä¼°åƒ¹æ ¼",field:"price"},{name:"category",label:"åˆ†é¡ ",field:"category"},{name:"sell",label:"ä¸Šæ¶",field:"sell"},{name:"action",label:"æ“ä½œ",field:"action"}],tab:"Forum-btn",forum:{title:"",description:"",sell:"true",images:null},Forum:!1,Group:!1,group:{name:"",time:"",price:"",description:"",image:null,sell:"true",category:"",precautions:"1.é£Ÿå®¿è‡ªç†\n2.å‡ºç™¼å‰ä¸‰å¤©è¦–æ°£è±¡é å ±æ±ºå®šæ˜¯å¦å‡ºç™¼\n3.è¦–æƒ…æ³èª¿æ•´è¡Œç¨‹ï¼Œä¸»æªæœ‰æ¬Šæ±ºå®šæ˜¯å¦æ’¤é€€\n4.é ˆå…·å‚™ç¨è‡ªèµ°å®Œå…¨ç¨‹çš„èƒ½åŠ›ï¼Œä¸»æªåªæ˜¯æƒ³æ‰¾äººåŒè¡Œï¼Œæ²’æœ‰å¹«äººèƒŒæ±è¥¿.æ‰¾è·¯.åˆ†äº«è£å‚™çš„ç¾©å‹™\n5.éœ€é…åˆåƒèˆ‡è¡Œå‰å®‰å…¨è©•ä¼°æœƒè­°ï¼Œç¢ºèªåŒè¡Œè€…æœ‰è£½ä½œåœ°åœ–ä¸”å…·å‚™è¶³å¤ ç™»å±±çŸ¥è­˜\n6.è‹¥æœ‰è¡Œå‰é«”è¨“è«‹ç›¡é‡åƒåŠ ï¼Œå¯èƒ½æ˜¯å…ˆç´„åº§ç°¡å–®çš„å±±çˆ¬äº’ç›¸èªè­˜ï¼Œè·Ÿå®Œå…¨é™Œç”Ÿäººçˆ¬é•·å¤©æ•¸æœƒæŠ–\n7.æœ‰æ…¢æ€§ç–¾ç—…è«‹äº‹å…ˆå‘ŠçŸ¥ï¼Œéš¨åœ˜ç„¡é†«ç”Ÿèƒ½æ€¥æ•‘\n8.æ­¤ç‚ºè‡ªçµ„åœ˜ï¼Œå¯ä¸€èµ·ç”³è«‹å…¥åœ’å…¥å±±ï¼Œä¸»æªéé ˜éšŠã€åš®å°ã€ä¿å§†ä¹‹è·ï¼Œåªæ˜¯ç†±å¿ƒç™¼èµ·æ´»å‹•ã€‚æœƒè¦æ±‚ç°½ç½²é¢¨éšªè‡ªè² åŒæ„æ›¸\n9.åƒèˆ‡çš„å¤¥ä¼´å€‘è¡Œé€²é–“äº’åŠ©åˆä½œåŠå®‰å…¨æé†’\n\n",_id:"",authorId:"",authorName:"",authorAge:"",authorNews:"",authorImg:"",index:-1},products:[],categories:["ç™¾å²³","ä¸­ç´šå±±","éƒŠå±±","æ¢å‹˜","ç§˜å¢ƒ","éœ²ç‡Ÿ","é‡æºªæº«æ³‰","æº¯æºª","æ°´è‚ºæ½›æ°´","è‡ªç”±æ½›æ°´","SUP","è¡æµª","å…¶ä»–"]}},components:{Admin:r["a"]},computed:{},methods:{async onSubmit(t){t.preventDefault();const e=new FormData;for(const a in this.group)"_id"!==a&&e.append(a,this.group[a]);try{if(0===this.group._id.length){const{data:t}=await this.api.post("/products",e,{headers:{authorization:"Bearer "+this.$store.getters["user/user"].token}});this.products.push(t.result),this.$q.notify({color:"positive",icon:"check_circle",message:"ç™¼è¡¨æˆåŠŸ !"})}else{const{data:t}=await this.api.patch("/products/"+this.group._id,e,{headers:{authorization:"Bearer "+this.$store.getters["user/user"].token}});this.products[this.group.index]={...this.group,image:t.result.image}}this.Group=!1}catch(s){this.$q.notify({color:"positive",icon:"error",message:`éŒ¯èª¤ ${s.response.data.message}`}),console.log(s)}},onReset(t){this.modalSubmitting?t.preventDefault():(this.forum.title=null,this.forum.description=null,this.forum.images=null,this.forum.content=null,this.forum.sell="true",this.group.name=null,this.group.time=null,this.group.price=null,this.group.description=null,this.group.images=null,this.group.sell="true",this.group.precautions="1.é£Ÿå®¿è‡ªç†\n2.å‡ºç™¼å‰ä¸‰å¤©è¦–æ°£è±¡é å ±æ±ºå®šæ˜¯å¦å‡ºç™¼\n3.è¦–æƒ…æ³èª¿æ•´è¡Œç¨‹ï¼Œä¸»æªæœ‰æ¬Šæ±ºå®šæ˜¯å¦æ’¤é€€\n4.é ˆå…·å‚™ç¨è‡ªèµ°å®Œå…¨ç¨‹çš„èƒ½åŠ›ï¼Œä¸»æªåªæ˜¯æƒ³æ‰¾äººåŒè¡Œï¼Œæ²’æœ‰å¹«äººèƒŒæ±è¥¿.æ‰¾è·¯.åˆ†äº«è£å‚™çš„ç¾©å‹™\n5.éœ€é…åˆåƒèˆ‡è¡Œå‰å®‰å…¨è©•ä¼°æœƒè­°ï¼Œç¢ºèªåŒè¡Œè€…æœ‰è£½ä½œåœ°åœ–ä¸”å…·å‚™è¶³å¤ ç™»å±±çŸ¥è­˜\n6.è‹¥æœ‰è¡Œå‰é«”è¨“è«‹ç›¡é‡åƒåŠ ï¼Œå¯èƒ½æ˜¯å…ˆç´„åº§ç°¡å–®çš„å±±çˆ¬äº’ç›¸èªè­˜ï¼Œè·Ÿå®Œå…¨é™Œç”Ÿäººçˆ¬é•·å¤©æ•¸æœƒæŠ–\n7.æœ‰æ…¢æ€§ç–¾ç—…è«‹äº‹å…ˆå‘ŠçŸ¥ï¼Œéš¨åœ˜ç„¡é†«ç”Ÿèƒ½æ€¥æ•‘\n8.æ­¤ç‚ºè‡ªçµ„åœ˜ï¼Œå¯ä¸€èµ·ç”³è«‹å…¥åœ’å…¥å±±ï¼Œä¸»æªéé ˜éšŠã€åš®å°ã€ä¿å§†ä¹‹è·ï¼Œåªæ˜¯ç†±å¿ƒç™¼èµ·æ´»å‹•ã€‚æœƒè¦æ±‚ç°½ç½²é¢¨éšªè‡ªè² åŒæ„æ›¸\n9.åƒèˆ‡çš„å¤¥ä¼´å€‘è¡Œé€²é–“äº’åŠ©åˆä½œåŠå®‰å…¨æé†’\n\n      ",this.group.category="")},editProduct(t){this.group={...this.products[t],image:null,index:t},this.Group=!0}},async created(){try{this.group.authorId=this.$store.getters["user/user"]._id,this.group.authorName=this.$store.getters["user/user"].name,this.group.authorAge=this.$store.getters["user/user"].age,this.group.authorNews=this.$store.getters["user/user"].news,this.group.authorImg=this.$store.getters["user/user"].image;const{data:t}=await this.api.get("/products/all/"+this.$route.params.id,{headers:{authorization:"Bearer "+this.$store.getters["user/user"].token}});this.products=t.result}catch(t){console.log(t),this.$q.notify({color:"positive",icon:"error",message:"å–å¾—å•†å“å¤±æ•—"})}}},i=o,n=s("2877"),u=s("24e8"),c=s("f09f"),m=s("0378"),p=s("27f9"),d=s("3786"),g=s("9c40"),h=s("ddd8"),b=s("429b"),f=s("7460"),v=s("eb85"),q=s("adad"),x=s("823b"),y=s("eaac"),C=s("a370"),w=s("eebe"),k=s.n(w),$=Object(n["a"])(i,a,l,!1,null,null,null);e["default"]=$.exports;k()($,"components",{QDialog:u["a"],QCard:c["a"],QForm:m["a"],QInput:p["a"],QRadio:d["a"],QBtn:g["a"],QSelect:h["a"],QTabs:b["a"],QTab:f["a"],QSeparator:v["a"],QTabPanels:q["a"],QTabPanel:x["a"],QTable:y["a"],QCardSection:C["a"]})}}]);